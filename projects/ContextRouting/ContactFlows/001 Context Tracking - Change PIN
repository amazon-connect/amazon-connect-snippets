{"modules":[{"id":"3289c466-3aee-46ca-97a3-3c79fc7a7638","type":"CheckAttribute","branches":[{"condition":"Evaluate","conditionType":"Equals","conditionValue":"$.Attributes.new_pin","transition":"08079121-915b-40a4-ae12-df80eddb9527"},{"condition":"NoMatch","transition":"28ca24ac-ba1c-4223-ab81-d5896899c4c5"}],"parameters":[{"name":"Attribute","value":"Stored customer input"},{"name":"Namespace","value":"System"}],"metadata":{"position":{"x":1344.39599609375,"y":232.218017578125},"conditionMetadata":[{"id":"dc131797-2d53-447f-a812-61971940e07c","operator":{"name":"Equals","value":"Equals","shortDisplay":"="},"value":"$.Attributes.new_pin"}]}},{"id":"28ca24ac-ba1c-4223-ab81-d5896899c4c5","type":"Loop","branches":[{"condition":"Looping","transition":"2218fad6-4ee4-4bb4-b754-d3d38a9f1445"},{"condition":"Complete","transition":"2218fad6-4ee4-4bb4-b754-d3d38a9f1445"}],"parameters":[{"name":"LoopCount","value":"3"}],"metadata":{"position":{"x":1347.5,"y":521.5},"useDynamic":false}},{"id":"2218fad6-4ee4-4bb4-b754-d3d38a9f1445","type":"SetAttributes","branches":[{"condition":"Success","transition":"e046d232-4346-40f3-ba8a-1cfe889d94a5"},{"condition":"Error","transition":"e046d232-4346-40f3-ba8a-1cfe889d94a5"}],"parameters":[{"name":"Attribute","value":"0","key":"active_task_tracker","namespace":null}],"metadata":{"position":{"x":1649.84912109375,"y":521.8838500976562}}},{"id":"e046d232-4346-40f3-ba8a-1cfe889d94a5","type":"SetQueue","branches":[{"condition":"Success","transition":"a026e5df-4355-45a5-9f77-73e232c5cb25"},{"condition":"Error","transition":"a026e5df-4355-45a5-9f77-73e232c5cb25"}],"parameters":[{"name":"Queue","value":"arn:aws:connect:us-west-2:203194266022:instance/527170c5-8806-4e9f-b294-2f29650302d3/queue/5da4ade0-e861-4805-987d-1d0b00fa9b9e","namespace":null,"resourceName":"BasicQueue"}],"metadata":{"position":{"x":1943.5,"y":516.5},"useDynamic":false,"queue":{"id":"arn:aws:connect:us-west-2:203194266022:instance/527170c5-8806-4e9f-b294-2f29650302d3/queue/5da4ade0-e861-4805-987d-1d0b00fa9b9e","text":"BasicQueue"}}},{"id":"a026e5df-4355-45a5-9f77-73e232c5cb25","type":"PlayPrompt","branches":[{"condition":"Success","transition":"ed9cab9f-ffc8-45b0-8f02-e9d0bd7d2f2c"}],"parameters":[{"name":"Text","value":"We are connecting you with a representative. One moment please.","namespace":null},{"name":"TextToSpeechType","value":"text"}],"metadata":{"position":{"x":2231.5,"y":510.5},"useDynamic":false}},{"id":"ed9cab9f-ffc8-45b0-8f02-e9d0bd7d2f2c","type":"Transfer","branches":[{"condition":"AtCapacity","transition":"c294eede-180c-41a6-8857-edc4a1c8f59f"},{"condition":"Error","transition":"c294eede-180c-41a6-8857-edc4a1c8f59f"}],"parameters":[],"metadata":{"position":{"x":2496.5,"y":512.5},"useDynamic":false,"queue":null},"target":"Queue"},{"id":"c294eede-180c-41a6-8857-edc4a1c8f59f","type":"PlayPrompt","branches":[{"condition":"Success","transition":"f73572f6-aa61-4851-85dc-cafec89c0cd8"}],"parameters":[{"name":"Text","value":"We experienced a problem. Returning to the main menu","namespace":null},{"name":"TextToSpeechType","value":"text"}],"metadata":{"position":{"x":2804.5,"y":513.5},"useDynamic":false}},{"id":"90cbb486-4331-4bb5-bc7d-547903cdb3b8","type":"Disconnect","branches":[],"parameters":[],"metadata":{"position":{"x":2870.5,"y":228.08819580078125}}},{"id":"6b7e647a-37e8-472b-950c-3adb62aeb460","type":"PlayPrompt","branches":[{"condition":"Success","transition":"5ebbacff-b95d-4ffa-bde7-3e5d754cf607"}],"parameters":[{"name":"Text","value":"Sample pin update flow.","namespace":null},{"name":"TextToSpeechType","value":"text"}],"metadata":{"position":{"x":267.5,"y":237.5},"useDynamic":false}},{"id":"9d6d1122-f532-4da5-a698-f2925f7462b8","type":"PlayPrompt","branches":[{"condition":"Success","transition":"90cbb486-4331-4bb5-bc7d-547903cdb3b8"}],"parameters":[{"name":"Text","value":"We have experienced an error. Goodbye","namespace":null},{"name":"TextToSpeechType","value":"text"}],"metadata":{"position":{"x":2609.931396484375,"y":231.5857696533203},"useDynamic":false}},{"id":"f73572f6-aa61-4851-85dc-cafec89c0cd8","type":"SetAttributes","branches":[{"condition":"Success","transition":"24b23f2a-63f3-4a60-bf29-a808ccedebf9"},{"condition":"Error","transition":"24b23f2a-63f3-4a60-bf29-a808ccedebf9"}],"parameters":[{"name":"Attribute","value":"1","key":"return_to_main","namespace":null}],"metadata":{"position":{"x":3031.5,"y":469.5}}},{"id":"3d7c9637-3e42-44c6-9b59-50f5851af482","type":"StoreUserInput","branches":[{"condition":"Success","transition":"3289c466-3aee-46ca-97a3-3c79fc7a7638"},{"condition":"Error","transition":"3289c466-3aee-46ca-97a3-3c79fc7a7638"}],"parameters":[{"name":"Text","value":"please re-enter your new pin."},{"name":"TextToSpeechType","value":"text"},{"name":"CustomerInputType","value":"Custom"},{"name":"Timeout","value":"5"},{"name":"MaxDigits","value":4},{"name":"EncryptEntry","value":"false"},{"name":"DisableCancel","value":"false"}],"metadata":{"position":{"x":1082.551513671875,"y":234.8629150390625},"useDynamic":false,"useDynamicForEncryptionKeys":true,"useDynamicForTerminatorDigits":false,"countryCodePrefix":"+1"}},{"id":"5ebbacff-b95d-4ffa-bde7-3e5d754cf607","type":"StoreUserInput","branches":[{"condition":"Success","transition":"effb92c0-1892-426e-aa16-9a34a210d1be"},{"condition":"Error","transition":"effb92c0-1892-426e-aa16-9a34a210d1be"}],"parameters":[{"name":"Text","value":"please enter your new 4 digit pin."},{"name":"TextToSpeechType","value":"text"},{"name":"CustomerInputType","value":"Custom"},{"name":"Timeout","value":"5"},{"name":"MaxDigits","value":4},{"name":"EncryptEntry","value":"false"},{"name":"DisableCancel","value":"false"}],"metadata":{"position":{"x":510.5,"y":239.5},"useDynamic":false,"useDynamicForEncryptionKeys":true,"useDynamicForTerminatorDigits":false,"countryCodePrefix":"+1"}},{"id":"effb92c0-1892-426e-aa16-9a34a210d1be","type":"SetAttributes","branches":[{"condition":"Success","transition":"3d7c9637-3e42-44c6-9b59-50f5851af482"},{"condition":"Error","transition":"3d7c9637-3e42-44c6-9b59-50f5851af482"}],"parameters":[{"name":"Attribute","value":"Stored customer input","key":"new_pin","namespace":"System"},{"name":"Attribute","value":"1","key":"active_task_tracker","namespace":null},{"name":"Attribute","value":"change_pin","key":"active_task","namespace":null},{"name":"Attribute","value":"Changing your pin","key":"tracking_task_title","namespace":null}],"metadata":{"position":{"x":791.6131591796875,"y":233.54046630859375}}},{"id":"24b23f2a-63f3-4a60-bf29-a808ccedebf9","type":"Transfer","branches":[{"condition":"Error","transition":"9d6d1122-f532-4da5-a698-f2925f7462b8"}],"parameters":[{"name":"ContactFlowId","value":"arn:aws:connect:us-west-2:203194266022:instance/527170c5-8806-4e9f-b294-2f29650302d3/contact-flow/9306d6d1-44dc-4fa3-980b-daf4a683bcd8","resourceName":"001 - Context Tracking Main"}],"metadata":{"position":{"x":2323.5,"y":232.5},"useDynamic":false,"ContactFlow":{"id":"arn:aws:connect:us-west-2:203194266022:instance/527170c5-8806-4e9f-b294-2f29650302d3/contact-flow/9306d6d1-44dc-4fa3-980b-daf4a683bcd8","text":"001 - Context Tracking Main"}},"target":"Flow"},{"id":"08079121-915b-40a4-ae12-df80eddb9527","type":"PlayPrompt","branches":[{"condition":"Success","transition":"0909a60d-6555-4874-85ad-db8c877b983f"}],"parameters":[{"name":"Text","value":"Your pin has been changed.","namespace":null},{"name":"TextToSpeechType","value":"text"}],"metadata":{"position":{"x":1646.3515625,"y":229.8369903564453},"useDynamic":false}},{"id":"0909a60d-6555-4874-85ad-db8c877b983f","type":"SetAttributes","branches":[{"condition":"Success","transition":"24b23f2a-63f3-4a60-bf29-a808ccedebf9"},{"condition":"Error","transition":"24b23f2a-63f3-4a60-bf29-a808ccedebf9"}],"parameters":[{"name":"Attribute","value":"0","key":"active_task_tracker","namespace":null},{"name":"Attribute","value":"1","key":"return_to_main","namespace":null}],"metadata":{"position":{"x":1957.635009765625,"y":233.3345489501953}}}],"version":"1","type":"contactFlow","start":"6b7e647a-37e8-472b-950c-3adb62aeb460","metadata":{"entryPointPosition":{"x":15.5,"y":15.5},"snapToGrid":false,"name":"001 Context Tracking - Change PIN","description":null,"type":"contactFlow","status":"published","hash":"8dfddf18081223c99f2298516710382770686e6b7d2aa1ba50c61f25cf737e2b"}}